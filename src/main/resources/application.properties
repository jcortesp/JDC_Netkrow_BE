# ================================
# Server
# ================================
server.port=8080

# ================================
# PostgreSQL - LOCAL / RENDER
# Prioridad:
# 1) SPRING_DATASOURCE_* (Render)
# 2) DATABASE_* (Render / otros)
# 3) Localhost para desarrollo
# ================================
spring.datasource.url=${SPRING_DATASOURCE_URL:${DATABASE_URL:jdbc:postgresql://localhost:5432/netkrow_local}}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${DATABASE_USERNAME:netkrow_db_user}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DATABASE_PASSWORD:AyN8Zs6yyUc5jme1PxOK6wcumku26lve}}

spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1

# Dialect explícito para evitar el error de "Unable to determine Dialect"
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ================================
# JPA / Hibernate
# ================================
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ================================
# Logging
# ================================
logging.level.org.springframework.security=DEBUG
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ================================
# CORS (leído por CorsConfig)
# ================================
frontend.url=${FRONTEND_URL:http://localhost:5173}
frontend.prod-url=${FRONTEND_PROD_URL:https://netkrow-fe.vercel.app}
frontend.extra-url=${FRONTEND_EXTRA_URL:https://netkrow.onrender.com}

# ================================
# Oracle (usado por RCARecordController)
# En producción: usar variables de entorno, nunca reales en el repo.
# ================================
oracle.datasource.url=${ORACLE_URL:jdbc:oracle:thin:@10.137.111.116:1529/GUSHARD}
oracle.datasource.username=${ORACLE_USERNAME:JUACOR}
oracle.datasource.password=${ORACLE_PASSWORD:Dy3_a8KH}

# ================================
# JWT
# ================================
jwt.secret=${JWT_SECRET:TuSecretoMuyLargoYSeguroParaFirmarElJWT_123456}
jwt.expiration.ms=${JWT_EXP_MS:86400000}
