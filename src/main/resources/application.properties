# ================================
# Server
# ================================
server.port=8080

# ================================
# PostgreSQL
# Prioridad:
# 1) SPRING_DATASOURCE_*  (Render)
# 2) DATABASE_*           (fallback)
# 3) localhost            (desarrollo local)
# ================================
spring.datasource.url=${SPRING_DATASOURCE_URL:${DATABASE_URL:jdbc:postgresql://localhost:5432/netkrow_local}}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${DATABASE_USERNAME:netkrow_db_user}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DATABASE_PASSWORD:changeme}}

spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1

# ================================
# JPA / Hibernate
# En local: usa "update" por defecto.
# En Render: sobreescribe con SPRING_JPA_HIBERNATE_DDL_AUTO=none
# ================================
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ================================
# Logging
# ================================
logging.level.org.springframework.security=DEBUG
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ================================
# CORS (leído por CorsConfig)
# ================================
frontend.url=${FRONTEND_URL:http://localhost:5173}
frontend.prod-url=${FRONTEND_PROD_URL:https://netkrow-fe.vercel.app}
frontend.extra-url=${FRONTEND_EXTRA_URL:https://netkrow.onrender.com}

# ================================
# Oracle (RCARecordController)
# En prod pásalo SIEMPRE por variables de entorno.
# ================================
oracle.datasource.url=${ORACLE_URL:jdbc:oracle:thin:@10.137.111.116:1529/GUSHARD}
oracle.datasource.username=${ORACLE_USERNAME:JUACOR}
oracle.datasource.password=${ORACLE_PASSWORD:Dy3_a8KH}

# ================================
# JWT
# ================================
jwt.secret=${JWT_SECRET:TuSecretoMuyLargoYSeguroParaFirmarElJWT_123456}
jwt.expiration.ms=${JWT_EXP_MS:86400000}
